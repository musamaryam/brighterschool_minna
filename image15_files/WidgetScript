(function(){var __webpack_modules__={5892:function(module){eval("/* eslint no-magic-numbers: [\"off\"] */\n// Use module.exports so that node can use this config\nmodule.exports = {\n  homeUrl: 'https://www.purechat.com',\n  apiUrl: 'https://api.purechat.com',\n  cdnUrl: 'https://prod.purechatcdn.com',\n  apiCdnServerUrl: 'https://api-cdn.purechat.com',\n  trackingOperatorApiUrl: 'https://tracking.purechat.com',\n  googleEmbedApiKey: 'AIzaSyBEorMC35CFuuH2caNZhAeFGRtqwbWE4Mc',\n  cdnServerUrl: 'https://prod.purechatcdn.com',\n  customerIoSiteId: 'd4a6e4df3666072e5b55',\n  dashboardRootUrl: 'https://app.purechat.com',\n  apiRootUrl: 'https://api.purechat.com',\n  widgetApiRootUrl: 'https://widgetapi.purechat.com',\n  filesRootUrl: 'https://files.purechat.com',\n  pingQueueUrl: 'https://checkin.purechat.com/api/checkin',\n  authCookieName: 'purechatAuthv5',\n  pidCookieName: 'prodvtftwPID',\n  pingInterval: 5000,\n  sessionTimeout: 1000 * 60 * 20,\n  // 20 minutes\n  recaptchaClientKey: '6LeJv-MUAAAAADCcAJn1EW3l5bMoqAxPfCO898oc'\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNTg5Mi5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL1NjcmlwdHMvY29uZmlnL2NvbmZpZy5wcm9kdWN0aW9uLmpzP2RmZDQiXSwic291cmNlc0NvbnRlbnQiOlsiLyogZXNsaW50IG5vLW1hZ2ljLW51bWJlcnM6IFtcIm9mZlwiXSAqL1xuLy8gVXNlIG1vZHVsZS5leHBvcnRzIHNvIHRoYXQgbm9kZSBjYW4gdXNlIHRoaXMgY29uZmlnXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgaG9tZVVybDogJ2h0dHBzOi8vd3d3LnB1cmVjaGF0LmNvbScsXG4gIGFwaVVybDogJ2h0dHBzOi8vYXBpLnB1cmVjaGF0LmNvbScsXG4gIGNkblVybDogJ2h0dHBzOi8vcHJvZC5wdXJlY2hhdGNkbi5jb20nLFxuICBhcGlDZG5TZXJ2ZXJVcmw6ICdodHRwczovL2FwaS1jZG4ucHVyZWNoYXQuY29tJyxcbiAgdHJhY2tpbmdPcGVyYXRvckFwaVVybDogJ2h0dHBzOi8vdHJhY2tpbmcucHVyZWNoYXQuY29tJyxcbiAgZ29vZ2xlRW1iZWRBcGlLZXk6ICdBSXphU3lCRW9yTUMzNUNGdXVIMmNhTlpoQWVGR1J0cXdiV0U0TWMnLFxuICBjZG5TZXJ2ZXJVcmw6ICdodHRwczovL3Byb2QucHVyZWNoYXRjZG4uY29tJyxcbiAgY3VzdG9tZXJJb1NpdGVJZDogJ2Q0YTZlNGRmMzY2NjA3MmU1YjU1JyxcbiAgZGFzaGJvYXJkUm9vdFVybDogJ2h0dHBzOi8vYXBwLnB1cmVjaGF0LmNvbScsXG4gIGFwaVJvb3RVcmw6ICdodHRwczovL2FwaS5wdXJlY2hhdC5jb20nLFxuICB3aWRnZXRBcGlSb290VXJsOiAnaHR0cHM6Ly93aWRnZXRhcGkucHVyZWNoYXQuY29tJyxcbiAgZmlsZXNSb290VXJsOiAnaHR0cHM6Ly9maWxlcy5wdXJlY2hhdC5jb20nLFxuICBwaW5nUXVldWVVcmw6ICdodHRwczovL2NoZWNraW4ucHVyZWNoYXQuY29tL2FwaS9jaGVja2luJyxcbiAgYXV0aENvb2tpZU5hbWU6ICdwdXJlY2hhdEF1dGh2NScsXG4gIHBpZENvb2tpZU5hbWU6ICdwcm9kdnRmdHdQSUQnLFxuICBwaW5nSW50ZXJ2YWw6IDUwMDAsXG4gIHNlc3Npb25UaW1lb3V0OiAxMDAwICogNjAgKiAyMCxcbiAgLy8gMjAgbWludXRlc1xuICByZWNhcHRjaGFDbGllbnRLZXk6ICc2TGVKdi1NVUFBQUFBRENjQUpuMUVXM2w1Yk1vcUF4UGZDTzg5OG9jJ1xufTsiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///5892\n")},3453:function(__unused_webpack_module,__unused_webpack___webpack_exports__,__webpack_require__){"use strict";eval("\n// EXTERNAL MODULE: ./Scripts/config/config.production.js\nvar config_production = __webpack_require__(5892);\nvar config_production_default = /*#__PURE__*/__webpack_require__.n(config_production);\n;// CONCATENATED MODULE: ./Scripts/widgets/shared/script_loader.js\nfunction loadScript(url, success, error) {\n  var script = document.createElement('script');\n  script.async = true;\n  script.type = 'text/javascript';\n\n  if (typeof url === 'string') {\n    script.src = url;\n  } else {\n    var scriptUrl = url.url,\n        sha = url.sha;\n    script.crossOrigin = 'anonymous';\n    script.integrity = sha;\n    script.src = scriptUrl;\n  }\n\n  var scriptReady = false;\n  if (error && typeof error === 'function') script.onerror = error;\n\n  function readyFn() {\n    if (!scriptReady && (!this.readyState || this.readyState === 'loaded' || this.readyState === 'complete')) {\n      scriptReady = true;\n      success(script);\n    }\n  }\n\n  script.onload = readyFn;\n  script.onreadystatechange = readyFn;\n  document.body.appendChild(script);\n}\n;// CONCATENATED MODULE: ./Scripts/widgets/shared/utils.js\n\nvar MODERN_STYLE_ID = 3;\nvar hasClass = function hasClass(el, className) {\n  return el.classList ? el.classList.contains(className) : !!el.className.match(new RegExp(\"(\\\\s|^)\".concat(className, \"(\\\\s|$)\")));\n};\nvar addClass = function addClass(el, className) {\n  if (el.classList) {\n    el.classList.add(className);\n  } else if (!hasClass(el, className)) {\n    el.className += \" \".concat(className); // eslint-disable-line no-param-reassign\n  }\n}; // eslint-disable-next-line import/prefer-default-export\n\nvar isModern = function isModern(settings) {\n  return (settings.StyleName || '').toLowerCase() === 'modern' || settings.StyleId === MODERN_STYLE_ID;\n};\nfunction domReady(fn) {\n  if (document.attachEvent ? document.readyState === 'complete' : document.readyState !== 'loading') {\n    fn();\n  } else {\n    document.addEventListener('DOMContentLoaded', fn);\n  }\n}\nfunction redirectOnError(ex) {\n  if (ex.status === NOT_FOUND) {\n    window.location.href = '/404';\n  } else {\n    window.location.href = '/oops';\n  }\n}\nfunction getRequest(url, onSuccess, onError) {\n  var _this = this;\n\n  var request = new XMLHttpRequest();\n  request.open('GET', url, true);\n\n  request.onload = function onload() {\n    if (this.status >= OK && this.status < BAD_REQUEST) {\n      onSuccess(JSON.parse(this.response));\n    } else {\n      onError(this);\n    }\n  };\n\n  request.onerror = function () {\n    return onError(_this);\n  };\n\n  request.send();\n}\nfunction corsGet(url, onSuccess, onError) {\n  var xhr = new XMLHttpRequest();\n  xhr.open('GET', url);\n\n  xhr.onload = function getOnload() {\n    if (xhr.status === OK) {\n      var response = JSON.parse(xhr.responseText);\n      onSuccess(response);\n    } else {\n      onError();\n    }\n  };\n\n  xhr.send();\n}\n;// CONCATENATED MODULE: ./Scripts/widgets/loader/jsonp.js\nvar JSONP_TIMEOUT = 20000;\nvar jsonpTimeouts = {};\nvar callbackCounter = 0;\nfunction getJSONP(url, callback) {\n  var callbackNameOverride = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n  var callbackFnName = callbackNameOverride || \"_WidgetJPCB\".concat(callbackCounter); // Before, these global JSONP functions were deleted from the window when the script would\n  // load. Unfortunately due to Cloudflare's Rocket Wordpress plugin, it was calling the `onload`\n  // function before the script was applied to the page causing the wigdet to not load. This is\n  // a temporary fix to handle that until these requests can be made into CORS requests.\n\n  window[callbackFnName] = function windowCallback() {\n    callback.apply(void 0, arguments);\n\n    window[callbackFnName] = function () {};\n  };\n\n  var script = document.createElement('script');\n  script.setAttribute('data-cfasync', false);\n  script.setAttribute('async', true);\n  script.setAttribute('type', 'text/javascript');\n  callbackCounter += 1;\n  var src = url;\n  if (src.indexOf('?') < 0) src += '?_=_';\n  src += \"&callback=\".concat(callbackFnName);\n  var scriptReady = false;\n\n  function readyFn() {\n    if (!scriptReady && (!this.readyState || this.readyState === 'loaded' || this.readyState === 'complete')) {\n      scriptReady = true;\n      clearTimeout(jsonpTimeouts[\"JSONPTimeout\".concat(callbackFnName)]);\n      delete jsonpTimeouts[\"JSONPTimeout\".concat(callbackFnName)];\n    }\n  }\n\n  script.onload = readyFn;\n  script.onreadystatechange = readyFn;\n  if (window.location.search.indexOf('pcforcemobile') >= 0) src += '&forceMobile=true';\n  script.setAttribute('src', src);\n  document.getElementsByTagName('HEAD')[0].appendChild(script);\n  jsonpTimeouts[\"JSONPTimeout\".concat(callbackFnName)] = setTimeout(function () {\n    // If this is called, then the script never loaded\n    throw new Error('Pure Chat widget failed to load');\n  }, JSONP_TIMEOUT);\n}\n;// CONCATENATED MODULE: ./Scripts/widgets/loader/cors.js\nvar cors_OK = 200;\nfunction cors_corsGet(url, callback) {\n  var xhr = new XMLHttpRequest();\n  xhr.open('GET', url);\n  xhr.withCredentials = true;\n\n  xhr.onload = function getOnload() {\n    if (xhr.status === cors_OK) {\n      var response = JSON.parse(xhr.responseText);\n      callback(response);\n    }\n  };\n\n  xhr.send();\n}\n;// CONCATENATED MODULE: ./Scripts/widgets/loader/main.js\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n/* eslint-disable max-classes-per-file,  no-underscore-dangle, no-extend-native */\n\n\n\n\n // MooTools overrides the default bind function with a non-standard implementation\n// which breaks the widget. Put it back to something close to the ECMAScript version.\n// It is in the loader because webpack uses the bind method right away.\n// via https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function/bind#Polyfill\n\nvar mootoolsBind = null;\n\nif (window.MooTools) {\n  mootoolsBind = Function.prototype.bind;\n\n  Function.prototype.bind = function bind(context) {\n    if (typeof this !== 'function') throw new TypeError('Function.prototype.bind'); // eslint-disable-next-line prefer-rest-params\n\n    var args = Array.prototype.slice.call(arguments, 1);\n    var toBind = this;\n\n    var Noop = function Noop() {};\n\n    var bound = function bound() {\n      // eslint-disable-next-line no-invalid-this, prefer-rest-params\n      return toBind.apply(this instanceof Noop ? this : context, args.concat(Array.prototype.slice.call(arguments)));\n    };\n\n    if (this.prototype) Noop.prototype = this.prototype;\n    bound.prototype = new Noop();\n    return bound;\n  };\n} // This is to fix a `toString` issue that effects our widget from destroying people's sites. This\n// will be temporary until a fix in core-js is released.\n// https://github.com/zloirock/core-js/issues/289\n\n\ntry {\n  if (typeof Prototype !== 'undefined') {\n    // eslint-disable-next-line no-extend-native\n    Object.defineProperty(Array.prototype, Symbol.toStringTag, {\n      value: 'Array'\n    });\n  }\n} catch (ex) {\n  /* Do Nothing */\n} // Library Loader Functions\n// ----------------------------------------------------------------------------\n// These libraries are hard coded to the version they use. If for some reason,\n// one of these needs to be updated, make sure to update not only the CDN version,\n// but also go into the webpack config and make sure the fallback is getting pulled\n// in correctly.\n\n\nfunction loadjQuery(isRequired, success, error) {\n  if (!isRequired) return success();\n  return loadScript({\n    url: '//ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js',\n    sha: 'sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4='\n  }, success, function () {\n    return loadScript(\"\".concat((config_production_default()).cdnUrl, \"/assets/jquery.fallback.360.js\"), success, error);\n  });\n} // Class Objects\n// ----------------------------------------------------------------------------\n// This object acts as the conduit for the JavaScript API that customers can use.\n// That way we don't expose the entire API object to them.\n\n\nvar PublicApi = /*#__PURE__*/function () {\n  function PublicApi(pcWidget) {\n    _classCallCheck(this, PublicApi);\n\n    this.api = pcWidget.getPublicApi();\n  }\n\n  _createClass(PublicApi, [{\n    key: \"on\",\n    value: function on() {\n      var _this$api;\n\n      return (_this$api = this.api).on.apply(_this$api, arguments);\n    }\n  }, {\n    key: \"off\",\n    value: function off() {\n      var _this$api2;\n\n      return (_this$api2 = this.api).off.apply(_this$api2, arguments);\n    }\n  }, {\n    key: \"action\",\n    value: function action() {\n      var _this$api3;\n\n      return (_this$api3 = this.api).action.apply(_this$api3, arguments);\n    }\n  }, {\n    key: \"set\",\n    value: function set() {\n      var _this$api4;\n\n      return (_this$api4 = this.api).set.apply(_this$api4, arguments);\n    }\n  }, {\n    key: \"get\",\n    value: function get() {\n      var _this$api5;\n\n      return (_this$api5 = this.api).get.apply(_this$api5, arguments);\n    }\n  }]);\n\n  return PublicApi;\n}(); // Main PCWidget class that acts as the starter for the widget. Also exposes,\n// the base API for calling methods on the widget instance itself.\n\n\nvar PCWidget = /*#__PURE__*/function () {\n  function PCWidget() {\n    var _this = this;\n\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    _classCallCheck(this, PCWidget);\n\n    // This is simply treated as a passthrough for the widget loader\n    var mappedArgs = Object.keys(options).map(function (key) {\n      return key.toLowerCase().trim();\n    }).reduce(function (obj, key) {\n      return {\n        c: _objectSpread(_objectSpread({}, obj), {}, {\n          widgetId: options[key]\n        }),\n        o: _objectSpread(_objectSpread({}, obj), {}, {\n          overrideWidgetId: options[key]\n        }),\n        pureserverurl: _objectSpread(_objectSpread({}, obj), {}, {\n          pureServerUrl: options[key]\n        }),\n        chatserverurl: _objectSpread(_objectSpread({}, obj), {}, {\n          chatServerUrl: options[key]\n        }),\n        f: _objectSpread(_objectSpread({}, obj), {}, {\n          isWidget: options[key]\n        })\n      }[key];\n    }, {});\n\n    var init = function init() {\n      var id = mappedArgs.overrideWidgetId || mappedArgs.widgetId; // Make the first request to grab the widget version settings. This will say if the widget is disabled or\n      // deleted. Also checks to make sure they haven't hit their chat quota.\n\n      cors_corsGet(\"\".concat((config_production_default()).widgetApiRootUrl, \"/api/visitorwidget/widgetversions/\").concat(id), function (versionResponse) {\n        var settings = _objectSpread(_objectSpread({}, mappedArgs), _this.mapWidgetVersionSettings(versionResponse));\n\n        if (settings.QuotaExceeded || settings.Stop) return false; // Make the request for the rest of the widget settings. One last check on the domain settings before loading\n        // the rest of the widget.\n\n        return cors_corsGet(\"\".concat((config_production_default()).apiCdnServerUrl, \"/api/visitorwidget/widget/\").concat(id, \"/\").concat(settings.WidgetVersion), function (settingsResponse) {\n          settings = _objectSpread(_objectSpread({}, settingsResponse), settings);\n          if (!_this.isAllowedDomain(settings.AllowedDomains)) return false; // Check style to see if we need to load the modern widget or the legacy one.\n\n          var isLegacy = !isModern(settings); // Load jquery from a CDN. This is the only library loaded from a CDN since it seems to handle require.js\n          // environments than the other libraries we use, and the liklihood of someone having this version of jQuery\n          // already cached by there browser is fairly high.\n\n          return loadjQuery(isLegacy, function () {\n            if (isLegacy) window.pc$ = window.jQuery.noConflict(true); // Load the last script that tells the loader which version of the widget-script to load. This has a version number in it\n            // as well in case that is needed for anything down the line.\n\n            getJSONP(\"\".concat((config_production_default()).dashboardRootUrl, \"/version\"), function (response) {\n              var widgetScript = isLegacy ? response.assets['widget-script.js'] || response.assets['widgetScript.js'] || response.assets['legacy.js'] : response.assets['modern.js'];\n              var url = \"\".concat((config_production_default()).cdnUrl).concat(widgetScript); // Lastly, load the widget script the version file said to load.\n\n              loadScript(url, function () {\n                if (window._pcwi) delete window._pcwi;\n                var initializer = window._pcWidgetInitializer;\n\n                if (!initializer) {\n                  console.log('Pure Chat Widget failed to load'); // eslint-disable-line no-console\n\n                  return;\n                }\n\n                initializer.start(settings, function (widget) {\n                  _this.widget = widget;\n\n                  if (window.purechatApi && isLegacy) {\n                    var _window$purechatApi = window.purechatApi,\n                        l = _window$purechatApi.l,\n                        t = _window$purechatApi.t;\n                    window.purechatApi = new PublicApi(widget);\n                    l.forEach(function (next) {\n                      return window.purechatApi.on.apply(window.purechatApi, next);\n                    });\n                    t.forEach(function (next) {\n                      return window.purechatApi.action.apply(window.purechatApi, next);\n                    });\n                  } // Put back Mootools function bind back so that other scripts go back to working\n\n\n                  if (window.MooTools && mootoolsBind !== null) Function.prototype.bind = mootoolsBind;\n                });\n              }, function () {\n                return console.log('Failed to load widget script');\n              }); // eslint-disable-line no-console\n            }, '_WidgetJPCB_Version');\n          }, function () {\n            return console.log('Libraries failed to load');\n          }); // eslint-disable-line no-console\n        }, '_WidgetJPCB_WidgetSettings');\n      }, '_WidgetJPCB_WidgetVersions');\n    }; // Wait until everything on the page has loaded before loading up PureChat\n\n\n    if (document.readyState === 'complete') {\n      setTimeout(init, 0);\n    } else if (window.addEventListener) {\n      window.addEventListener('load', init, false);\n    } else if (window.attachEvent) {\n      window.attachEvent('onload', init);\n    } else {\n      window.onload = init;\n    }\n  }\n\n  _createClass(PCWidget, [{\n    key: \"mapWidgetVersionSettings\",\n    value: function mapWidgetVersionSettings() {\n      var response = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      return Object.keys(response).map(function (key) {\n        return key.toLowerCase().trim();\n      }).reduce(function (obj, key) {\n        return {\n          v: _objectSpread(_objectSpread({}, obj), {}, {\n            Valid: response[key] === true || response[key] === 1\n          }),\n          wv: _objectSpread(_objectSpread({}, obj), {}, {\n            WidgetVersion: response[key]\n          }),\n          csu: _objectSpread(_objectSpread({}, obj), {}, {\n            ChatServerUrl: response[key]\n          }),\n          csv: _objectSpread(_objectSpread({}, obj), {}, {\n            ChatServerVersion: response[key]\n          }),\n          sru: _objectSpread(_objectSpread({}, obj), {}, {\n            SiteRootUrl: response[key]\n          }),\n          dap: _objectSpread(_objectSpread({}, obj), {}, {\n            DisableAvailabilityPings: response[key] === true || response[key] === 1\n          }),\n          ip: _objectSpread(_objectSpread({}, obj), {}, {\n            VisitorIPAddress: response[key]\n          }),\n          rfm: _objectSpread(_objectSpread({}, obj), {}, {\n            RequestFromMobileDevice: response[key] === true || response[key] === 1\n          }),\n          b: _objectSpread(_objectSpread({}, obj), {}, {\n            IPIsBanned: response[key] === true || response[key] === 1\n          }),\n          cru: _objectSpread(_objectSpread({}, obj), {}, {\n            CdnRootUrl: response[key]\n          }),\n          acru: _objectSpread(_objectSpread({}, obj), {}, {\n            ApiCdnRootUrl: response[key]\n          }),\n          id: _objectSpread(_objectSpread({}, obj), {}, {\n            Id: response[key]\n          }),\n          s: _objectSpread(_objectSpread({}, obj), {}, {\n            Stop: response[key] === true || response[key] === 1\n          }),\n          qe: _objectSpread(_objectSpread({}, obj), {}, {\n            QuotaExceeded: response[key] === true || response[key] === 1\n          })\n        }[key] || obj;\n      }, response);\n    }\n  }, {\n    key: \"isAllowedDomain\",\n    value: function isAllowedDomain() {\n      var allowedDomains = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n      // No domains mean widget is set to \"All Domains\"\n      if (allowedDomains.length === 0) return true;\n      allowedDomains.push('purechat.com');\n      return allowedDomains.some(function (domain) {\n        return /^\\*$/.test(domain) || document.domain.search(domain) !== -1;\n      });\n    }\n  }, {\n    key: \"publicApi\",\n    get: function get() {\n      return this.widget ? this.widget.getPublicApi() : null;\n    }\n  }, {\n    key: \"set\",\n    value: function set() {\n      var _this$publicApi;\n\n      if (this.publicApi) (_this$publicApi = this.publicApi).set.apply(_this$publicApi, arguments);\n    }\n  }, {\n    key: \"get\",\n    value: function get() {\n      var _this$publicApi2;\n\n      if (this.publicApi) (_this$publicApi2 = this.publicApi).get.apply(_this$publicApi2, arguments);\n    }\n  }, {\n    key: \"on\",\n    value: function on() {\n      var _this$publicApi3;\n\n      if (this.publicApi) (_this$publicApi3 = this.publicApi).on.apply(_this$publicApi3, arguments);\n    }\n  }, {\n    key: \"trigger\",\n    value: function trigger() {\n      var _this$publicApi4;\n\n      if (this.publicApi) (_this$publicApi4 = this.publicApi).trigger.apply(_this$publicApi4, arguments);\n    }\n  }]);\n\n  return PCWidget;\n}();\n\nwindow.PCWidget = PCWidget;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzQ1My5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL1NjcmlwdHMvd2lkZ2V0cy9zaGFyZWQvc2NyaXB0X2xvYWRlci5qcz8yMjY3Iiwid2VicGFjazovLy8uL1NjcmlwdHMvd2lkZ2V0cy9zaGFyZWQvdXRpbHMuanM/YzEzYSIsIndlYnBhY2s6Ly8vLi9TY3JpcHRzL3dpZGdldHMvbG9hZGVyL2pzb25wLmpzP2FlYTgiLCJ3ZWJwYWNrOi8vLy4vU2NyaXB0cy93aWRnZXRzL2xvYWRlci9jb3JzLmpzP2Q5MGUiLCJ3ZWJwYWNrOi8vLy4vU2NyaXB0cy93aWRnZXRzL2xvYWRlci9tYWluLmpzPzBjZDciXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gbG9hZFNjcmlwdCh1cmwsIHN1Y2Nlc3MsIGVycm9yKSB7XG4gIHZhciBzY3JpcHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzY3JpcHQnKTtcbiAgc2NyaXB0LmFzeW5jID0gdHJ1ZTtcbiAgc2NyaXB0LnR5cGUgPSAndGV4dC9qYXZhc2NyaXB0JztcblxuICBpZiAodHlwZW9mIHVybCA9PT0gJ3N0cmluZycpIHtcbiAgICBzY3JpcHQuc3JjID0gdXJsO1xuICB9IGVsc2Uge1xuICAgIHZhciBzY3JpcHRVcmwgPSB1cmwudXJsLFxuICAgICAgICBzaGEgPSB1cmwuc2hhO1xuICAgIHNjcmlwdC5jcm9zc09yaWdpbiA9ICdhbm9ueW1vdXMnO1xuICAgIHNjcmlwdC5pbnRlZ3JpdHkgPSBzaGE7XG4gICAgc2NyaXB0LnNyYyA9IHNjcmlwdFVybDtcbiAgfVxuXG4gIHZhciBzY3JpcHRSZWFkeSA9IGZhbHNlO1xuICBpZiAoZXJyb3IgJiYgdHlwZW9mIGVycm9yID09PSAnZnVuY3Rpb24nKSBzY3JpcHQub25lcnJvciA9IGVycm9yO1xuXG4gIGZ1bmN0aW9uIHJlYWR5Rm4oKSB7XG4gICAgaWYgKCFzY3JpcHRSZWFkeSAmJiAoIXRoaXMucmVhZHlTdGF0ZSB8fCB0aGlzLnJlYWR5U3RhdGUgPT09ICdsb2FkZWQnIHx8IHRoaXMucmVhZHlTdGF0ZSA9PT0gJ2NvbXBsZXRlJykpIHtcbiAgICAgIHNjcmlwdFJlYWR5ID0gdHJ1ZTtcbiAgICAgIHN1Y2Nlc3Moc2NyaXB0KTtcbiAgICB9XG4gIH1cblxuICBzY3JpcHQub25sb2FkID0gcmVhZHlGbjtcbiAgc2NyaXB0Lm9ucmVhZHlzdGF0ZWNoYW5nZSA9IHJlYWR5Rm47XG4gIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoc2NyaXB0KTtcbn0iLCJpbXBvcnQgeyBPSywgQkFEX1JFUVVFU1QsIE5PVF9GT1VORCB9IGZyb20gJ2h0dHAtc3RhdHVzLWNvZGVzJztcbnZhciBNT0RFUk5fU1RZTEVfSUQgPSAzO1xuZXhwb3J0IHZhciBoYXNDbGFzcyA9IGZ1bmN0aW9uIGhhc0NsYXNzKGVsLCBjbGFzc05hbWUpIHtcbiAgcmV0dXJuIGVsLmNsYXNzTGlzdCA/IGVsLmNsYXNzTGlzdC5jb250YWlucyhjbGFzc05hbWUpIDogISFlbC5jbGFzc05hbWUubWF0Y2gobmV3IFJlZ0V4cChcIihcXFxcc3xeKVwiLmNvbmNhdChjbGFzc05hbWUsIFwiKFxcXFxzfCQpXCIpKSk7XG59O1xuZXhwb3J0IHZhciBhZGRDbGFzcyA9IGZ1bmN0aW9uIGFkZENsYXNzKGVsLCBjbGFzc05hbWUpIHtcbiAgaWYgKGVsLmNsYXNzTGlzdCkge1xuICAgIGVsLmNsYXNzTGlzdC5hZGQoY2xhc3NOYW1lKTtcbiAgfSBlbHNlIGlmICghaGFzQ2xhc3MoZWwsIGNsYXNzTmFtZSkpIHtcbiAgICBlbC5jbGFzc05hbWUgKz0gXCIgXCIuY29uY2F0KGNsYXNzTmFtZSk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tcGFyYW0tcmVhc3NpZ25cbiAgfVxufTsgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGltcG9ydC9wcmVmZXItZGVmYXVsdC1leHBvcnRcblxuZXhwb3J0IHZhciBpc01vZGVybiA9IGZ1bmN0aW9uIGlzTW9kZXJuKHNldHRpbmdzKSB7XG4gIHJldHVybiAoc2V0dGluZ3MuU3R5bGVOYW1lIHx8ICcnKS50b0xvd2VyQ2FzZSgpID09PSAnbW9kZXJuJyB8fCBzZXR0aW5ncy5TdHlsZUlkID09PSBNT0RFUk5fU1RZTEVfSUQ7XG59O1xuZXhwb3J0IGZ1bmN0aW9uIGRvbVJlYWR5KGZuKSB7XG4gIGlmIChkb2N1bWVudC5hdHRhY2hFdmVudCA/IGRvY3VtZW50LnJlYWR5U3RhdGUgPT09ICdjb21wbGV0ZScgOiBkb2N1bWVudC5yZWFkeVN0YXRlICE9PSAnbG9hZGluZycpIHtcbiAgICBmbigpO1xuICB9IGVsc2Uge1xuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ0RPTUNvbnRlbnRMb2FkZWQnLCBmbik7XG4gIH1cbn1cbmV4cG9ydCBmdW5jdGlvbiByZWRpcmVjdE9uRXJyb3IoZXgpIHtcbiAgaWYgKGV4LnN0YXR1cyA9PT0gTk9UX0ZPVU5EKSB7XG4gICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSAnLzQwNCc7XG4gIH0gZWxzZSB7XG4gICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSAnL29vcHMnO1xuICB9XG59XG5leHBvcnQgZnVuY3Rpb24gZ2V0UmVxdWVzdCh1cmwsIG9uU3VjY2Vzcywgb25FcnJvcikge1xuICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gIHZhciByZXF1ZXN0ID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG4gIHJlcXVlc3Qub3BlbignR0VUJywgdXJsLCB0cnVlKTtcblxuICByZXF1ZXN0Lm9ubG9hZCA9IGZ1bmN0aW9uIG9ubG9hZCgpIHtcbiAgICBpZiAodGhpcy5zdGF0dXMgPj0gT0sgJiYgdGhpcy5zdGF0dXMgPCBCQURfUkVRVUVTVCkge1xuICAgICAgb25TdWNjZXNzKEpTT04ucGFyc2UodGhpcy5yZXNwb25zZSkpO1xuICAgIH0gZWxzZSB7XG4gICAgICBvbkVycm9yKHRoaXMpO1xuICAgIH1cbiAgfTtcblxuICByZXF1ZXN0Lm9uZXJyb3IgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIG9uRXJyb3IoX3RoaXMpO1xuICB9O1xuXG4gIHJlcXVlc3Quc2VuZCgpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGNvcnNHZXQodXJsLCBvblN1Y2Nlc3MsIG9uRXJyb3IpIHtcbiAgdmFyIHhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xuICB4aHIub3BlbignR0VUJywgdXJsKTtcblxuICB4aHIub25sb2FkID0gZnVuY3Rpb24gZ2V0T25sb2FkKCkge1xuICAgIGlmICh4aHIuc3RhdHVzID09PSBPSykge1xuICAgICAgdmFyIHJlc3BvbnNlID0gSlNPTi5wYXJzZSh4aHIucmVzcG9uc2VUZXh0KTtcbiAgICAgIG9uU3VjY2VzcyhyZXNwb25zZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG9uRXJyb3IoKTtcbiAgICB9XG4gIH07XG5cbiAgeGhyLnNlbmQoKTtcbn0iLCJ2YXIgSlNPTlBfVElNRU9VVCA9IDIwMDAwO1xudmFyIGpzb25wVGltZW91dHMgPSB7fTtcbnZhciBjYWxsYmFja0NvdW50ZXIgPSAwO1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZ2V0SlNPTlAodXJsLCBjYWxsYmFjaykge1xuICB2YXIgY2FsbGJhY2tOYW1lT3ZlcnJpZGUgPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IG51bGw7XG4gIHZhciBjYWxsYmFja0ZuTmFtZSA9IGNhbGxiYWNrTmFtZU92ZXJyaWRlIHx8IFwiX1dpZGdldEpQQ0JcIi5jb25jYXQoY2FsbGJhY2tDb3VudGVyKTsgLy8gQmVmb3JlLCB0aGVzZSBnbG9iYWwgSlNPTlAgZnVuY3Rpb25zIHdlcmUgZGVsZXRlZCBmcm9tIHRoZSB3aW5kb3cgd2hlbiB0aGUgc2NyaXB0IHdvdWxkXG4gIC8vIGxvYWQuIFVuZm9ydHVuYXRlbHkgZHVlIHRvIENsb3VkZmxhcmUncyBSb2NrZXQgV29yZHByZXNzIHBsdWdpbiwgaXQgd2FzIGNhbGxpbmcgdGhlIGBvbmxvYWRgXG4gIC8vIGZ1bmN0aW9uIGJlZm9yZSB0aGUgc2NyaXB0IHdhcyBhcHBsaWVkIHRvIHRoZSBwYWdlIGNhdXNpbmcgdGhlIHdpZ2RldCB0byBub3QgbG9hZC4gVGhpcyBpc1xuICAvLyBhIHRlbXBvcmFyeSBmaXggdG8gaGFuZGxlIHRoYXQgdW50aWwgdGhlc2UgcmVxdWVzdHMgY2FuIGJlIG1hZGUgaW50byBDT1JTIHJlcXVlc3RzLlxuXG4gIHdpbmRvd1tjYWxsYmFja0ZuTmFtZV0gPSBmdW5jdGlvbiB3aW5kb3dDYWxsYmFjaygpIHtcbiAgICBjYWxsYmFjay5hcHBseSh2b2lkIDAsIGFyZ3VtZW50cyk7XG5cbiAgICB3aW5kb3dbY2FsbGJhY2tGbk5hbWVdID0gZnVuY3Rpb24gKCkge307XG4gIH07XG5cbiAgdmFyIHNjcmlwdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NjcmlwdCcpO1xuICBzY3JpcHQuc2V0QXR0cmlidXRlKCdkYXRhLWNmYXN5bmMnLCBmYWxzZSk7XG4gIHNjcmlwdC5zZXRBdHRyaWJ1dGUoJ2FzeW5jJywgdHJ1ZSk7XG4gIHNjcmlwdC5zZXRBdHRyaWJ1dGUoJ3R5cGUnLCAndGV4dC9qYXZhc2NyaXB0Jyk7XG4gIGNhbGxiYWNrQ291bnRlciArPSAxO1xuICB2YXIgc3JjID0gdXJsO1xuICBpZiAoc3JjLmluZGV4T2YoJz8nKSA8IDApIHNyYyArPSAnP189Xyc7XG4gIHNyYyArPSBcIiZjYWxsYmFjaz1cIi5jb25jYXQoY2FsbGJhY2tGbk5hbWUpO1xuICB2YXIgc2NyaXB0UmVhZHkgPSBmYWxzZTtcblxuICBmdW5jdGlvbiByZWFkeUZuKCkge1xuICAgIGlmICghc2NyaXB0UmVhZHkgJiYgKCF0aGlzLnJlYWR5U3RhdGUgfHwgdGhpcy5yZWFkeVN0YXRlID09PSAnbG9hZGVkJyB8fCB0aGlzLnJlYWR5U3RhdGUgPT09ICdjb21wbGV0ZScpKSB7XG4gICAgICBzY3JpcHRSZWFkeSA9IHRydWU7XG4gICAgICBjbGVhclRpbWVvdXQoanNvbnBUaW1lb3V0c1tcIkpTT05QVGltZW91dFwiLmNvbmNhdChjYWxsYmFja0ZuTmFtZSldKTtcbiAgICAgIGRlbGV0ZSBqc29ucFRpbWVvdXRzW1wiSlNPTlBUaW1lb3V0XCIuY29uY2F0KGNhbGxiYWNrRm5OYW1lKV07XG4gICAgfVxuICB9XG5cbiAgc2NyaXB0Lm9ubG9hZCA9IHJlYWR5Rm47XG4gIHNjcmlwdC5vbnJlYWR5c3RhdGVjaGFuZ2UgPSByZWFkeUZuO1xuICBpZiAod2luZG93LmxvY2F0aW9uLnNlYXJjaC5pbmRleE9mKCdwY2ZvcmNlbW9iaWxlJykgPj0gMCkgc3JjICs9ICcmZm9yY2VNb2JpbGU9dHJ1ZSc7XG4gIHNjcmlwdC5zZXRBdHRyaWJ1dGUoJ3NyYycsIHNyYyk7XG4gIGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdIRUFEJylbMF0uYXBwZW5kQ2hpbGQoc2NyaXB0KTtcbiAganNvbnBUaW1lb3V0c1tcIkpTT05QVGltZW91dFwiLmNvbmNhdChjYWxsYmFja0ZuTmFtZSldID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgLy8gSWYgdGhpcyBpcyBjYWxsZWQsIHRoZW4gdGhlIHNjcmlwdCBuZXZlciBsb2FkZWRcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ1B1cmUgQ2hhdCB3aWRnZXQgZmFpbGVkIHRvIGxvYWQnKTtcbiAgfSwgSlNPTlBfVElNRU9VVCk7XG59IiwidmFyIE9LID0gMjAwO1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gY29yc0dldCh1cmwsIGNhbGxiYWNrKSB7XG4gIHZhciB4aHIgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcbiAgeGhyLm9wZW4oJ0dFVCcsIHVybCk7XG4gIHhoci53aXRoQ3JlZGVudGlhbHMgPSB0cnVlO1xuXG4gIHhoci5vbmxvYWQgPSBmdW5jdGlvbiBnZXRPbmxvYWQoKSB7XG4gICAgaWYgKHhoci5zdGF0dXMgPT09IE9LKSB7XG4gICAgICB2YXIgcmVzcG9uc2UgPSBKU09OLnBhcnNlKHhoci5yZXNwb25zZVRleHQpO1xuICAgICAgY2FsbGJhY2socmVzcG9uc2UpO1xuICAgIH1cbiAgfTtcblxuICB4aHIuc2VuZCgpO1xufSIsImZ1bmN0aW9uIG93bktleXMob2JqZWN0LCBlbnVtZXJhYmxlT25seSkgeyB2YXIga2V5cyA9IE9iamVjdC5rZXlzKG9iamVjdCk7IGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7IHZhciBzeW1ib2xzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhvYmplY3QpOyBpZiAoZW51bWVyYWJsZU9ubHkpIHN5bWJvbHMgPSBzeW1ib2xzLmZpbHRlcihmdW5jdGlvbiAoc3ltKSB7IHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iamVjdCwgc3ltKS5lbnVtZXJhYmxlOyB9KTsga2V5cy5wdXNoLmFwcGx5KGtleXMsIHN5bWJvbHMpOyB9IHJldHVybiBrZXlzOyB9XG5cbmZ1bmN0aW9uIF9vYmplY3RTcHJlYWQodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV0gIT0gbnVsbCA/IGFyZ3VtZW50c1tpXSA6IHt9OyBpZiAoaSAlIDIpIHsgb3duS2V5cyhPYmplY3Qoc291cmNlKSwgdHJ1ZSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IF9kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgc291cmNlW2tleV0pOyB9KTsgfSBlbHNlIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycykgeyBPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHNvdXJjZSkpOyB9IGVsc2UgeyBvd25LZXlzKE9iamVjdChzb3VyY2UpKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHNvdXJjZSwga2V5KSk7IH0pOyB9IH0gcmV0dXJuIHRhcmdldDsgfVxuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKSB7IGlmIChrZXkgaW4gb2JqKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgeyB2YWx1ZTogdmFsdWUsIGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUgfSk7IH0gZWxzZSB7IG9ialtrZXldID0gdmFsdWU7IH0gcmV0dXJuIG9iajsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9XG5cbmZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9XG5cbi8qIGVzbGludC1kaXNhYmxlIG1heC1jbGFzc2VzLXBlci1maWxlLCAgbm8tdW5kZXJzY29yZS1kYW5nbGUsIG5vLWV4dGVuZC1uYXRpdmUgKi9cbmltcG9ydCBwY0NvbmZpZyBmcm9tICdjb25maWcnO1xuaW1wb3J0IGxvYWRTY3JpcHQgZnJvbSAnd2lkZ2V0X3NoYXJlZC9zY3JpcHRfbG9hZGVyJztcbmltcG9ydCB7IGlzTW9kZXJuIH0gZnJvbSAnd2lkZ2V0X3NoYXJlZC91dGlscyc7XG5pbXBvcnQgZ2V0SlNPTlAgZnJvbSAnLi9qc29ucCc7XG5pbXBvcnQgY29yc0dldCBmcm9tICcuL2NvcnMnOyAvLyBNb29Ub29scyBvdmVycmlkZXMgdGhlIGRlZmF1bHQgYmluZCBmdW5jdGlvbiB3aXRoIGEgbm9uLXN0YW5kYXJkIGltcGxlbWVudGF0aW9uXG4vLyB3aGljaCBicmVha3MgdGhlIHdpZGdldC4gUHV0IGl0IGJhY2sgdG8gc29tZXRoaW5nIGNsb3NlIHRvIHRoZSBFQ01BU2NyaXB0IHZlcnNpb24uXG4vLyBJdCBpcyBpbiB0aGUgbG9hZGVyIGJlY2F1c2Ugd2VicGFjayB1c2VzIHRoZSBiaW5kIG1ldGhvZCByaWdodCBhd2F5LlxuLy8gdmlhIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL0Z1bmN0aW9uL2JpbmQjUG9seWZpbGxcblxudmFyIG1vb3Rvb2xzQmluZCA9IG51bGw7XG5cbmlmICh3aW5kb3cuTW9vVG9vbHMpIHtcbiAgbW9vdG9vbHNCaW5kID0gRnVuY3Rpb24ucHJvdG90eXBlLmJpbmQ7XG5cbiAgRnVuY3Rpb24ucHJvdG90eXBlLmJpbmQgPSBmdW5jdGlvbiBiaW5kKGNvbnRleHQpIHtcbiAgICBpZiAodHlwZW9mIHRoaXMgIT09ICdmdW5jdGlvbicpIHRocm93IG5ldyBUeXBlRXJyb3IoJ0Z1bmN0aW9uLnByb3RvdHlwZS5iaW5kJyk7IC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBwcmVmZXItcmVzdC1wYXJhbXNcblxuICAgIHZhciBhcmdzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKTtcbiAgICB2YXIgdG9CaW5kID0gdGhpcztcblxuICAgIHZhciBOb29wID0gZnVuY3Rpb24gTm9vcCgpIHt9O1xuXG4gICAgdmFyIGJvdW5kID0gZnVuY3Rpb24gYm91bmQoKSB7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8taW52YWxpZC10aGlzLCBwcmVmZXItcmVzdC1wYXJhbXNcbiAgICAgIHJldHVybiB0b0JpbmQuYXBwbHkodGhpcyBpbnN0YW5jZW9mIE5vb3AgPyB0aGlzIDogY29udGV4dCwgYXJncy5jb25jYXQoQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKSkpO1xuICAgIH07XG5cbiAgICBpZiAodGhpcy5wcm90b3R5cGUpIE5vb3AucHJvdG90eXBlID0gdGhpcy5wcm90b3R5cGU7XG4gICAgYm91bmQucHJvdG90eXBlID0gbmV3IE5vb3AoKTtcbiAgICByZXR1cm4gYm91bmQ7XG4gIH07XG59IC8vIFRoaXMgaXMgdG8gZml4IGEgYHRvU3RyaW5nYCBpc3N1ZSB0aGF0IGVmZmVjdHMgb3VyIHdpZGdldCBmcm9tIGRlc3Ryb3lpbmcgcGVvcGxlJ3Mgc2l0ZXMuIFRoaXNcbi8vIHdpbGwgYmUgdGVtcG9yYXJ5IHVudGlsIGEgZml4IGluIGNvcmUtanMgaXMgcmVsZWFzZWQuXG4vLyBodHRwczovL2dpdGh1Yi5jb20vemxvaXJvY2svY29yZS1qcy9pc3N1ZXMvMjg5XG5cblxudHJ5IHtcbiAgaWYgKHR5cGVvZiBQcm90b3R5cGUgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWV4dGVuZC1uYXRpdmVcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQXJyYXkucHJvdG90eXBlLCBTeW1ib2wudG9TdHJpbmdUYWcsIHtcbiAgICAgIHZhbHVlOiAnQXJyYXknXG4gICAgfSk7XG4gIH1cbn0gY2F0Y2ggKGV4KSB7XG4gIC8qIERvIE5vdGhpbmcgKi9cbn0gLy8gTGlicmFyeSBMb2FkZXIgRnVuY3Rpb25zXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBUaGVzZSBsaWJyYXJpZXMgYXJlIGhhcmQgY29kZWQgdG8gdGhlIHZlcnNpb24gdGhleSB1c2UuIElmIGZvciBzb21lIHJlYXNvbixcbi8vIG9uZSBvZiB0aGVzZSBuZWVkcyB0byBiZSB1cGRhdGVkLCBtYWtlIHN1cmUgdG8gdXBkYXRlIG5vdCBvbmx5IHRoZSBDRE4gdmVyc2lvbixcbi8vIGJ1dCBhbHNvIGdvIGludG8gdGhlIHdlYnBhY2sgY29uZmlnIGFuZCBtYWtlIHN1cmUgdGhlIGZhbGxiYWNrIGlzIGdldHRpbmcgcHVsbGVkXG4vLyBpbiBjb3JyZWN0bHkuXG5cblxuZnVuY3Rpb24gbG9hZGpRdWVyeShpc1JlcXVpcmVkLCBzdWNjZXNzLCBlcnJvcikge1xuICBpZiAoIWlzUmVxdWlyZWQpIHJldHVybiBzdWNjZXNzKCk7XG4gIHJldHVybiBsb2FkU2NyaXB0KHtcbiAgICB1cmw6ICcvL2FqYXguZ29vZ2xlYXBpcy5jb20vYWpheC9saWJzL2pxdWVyeS8zLjYuMC9qcXVlcnkubWluLmpzJyxcbiAgICBzaGE6ICdzaGEyNTYtL3hVaiszT0pVNXlFeGxxNkdTWUdTSGs3dFBYaWt5blM3b2dFdkRlai9tND0nXG4gIH0sIHN1Y2Nlc3MsIGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gbG9hZFNjcmlwdChcIlwiLmNvbmNhdChwY0NvbmZpZy5jZG5VcmwsIFwiL2Fzc2V0cy9qcXVlcnkuZmFsbGJhY2suMzYwLmpzXCIpLCBzdWNjZXNzLCBlcnJvcik7XG4gIH0pO1xufSAvLyBDbGFzcyBPYmplY3RzXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBUaGlzIG9iamVjdCBhY3RzIGFzIHRoZSBjb25kdWl0IGZvciB0aGUgSmF2YVNjcmlwdCBBUEkgdGhhdCBjdXN0b21lcnMgY2FuIHVzZS5cbi8vIFRoYXQgd2F5IHdlIGRvbid0IGV4cG9zZSB0aGUgZW50aXJlIEFQSSBvYmplY3QgdG8gdGhlbS5cblxuXG52YXIgUHVibGljQXBpID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gUHVibGljQXBpKHBjV2lkZ2V0KSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFB1YmxpY0FwaSk7XG5cbiAgICB0aGlzLmFwaSA9IHBjV2lkZ2V0LmdldFB1YmxpY0FwaSgpO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKFB1YmxpY0FwaSwgW3tcbiAgICBrZXk6IFwib25cIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gb24oKSB7XG4gICAgICB2YXIgX3RoaXMkYXBpO1xuXG4gICAgICByZXR1cm4gKF90aGlzJGFwaSA9IHRoaXMuYXBpKS5vbi5hcHBseShfdGhpcyRhcGksIGFyZ3VtZW50cyk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcIm9mZlwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBvZmYoKSB7XG4gICAgICB2YXIgX3RoaXMkYXBpMjtcblxuICAgICAgcmV0dXJuIChfdGhpcyRhcGkyID0gdGhpcy5hcGkpLm9mZi5hcHBseShfdGhpcyRhcGkyLCBhcmd1bWVudHMpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJhY3Rpb25cIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gYWN0aW9uKCkge1xuICAgICAgdmFyIF90aGlzJGFwaTM7XG5cbiAgICAgIHJldHVybiAoX3RoaXMkYXBpMyA9IHRoaXMuYXBpKS5hY3Rpb24uYXBwbHkoX3RoaXMkYXBpMywgYXJndW1lbnRzKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwic2V0XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHNldCgpIHtcbiAgICAgIHZhciBfdGhpcyRhcGk0O1xuXG4gICAgICByZXR1cm4gKF90aGlzJGFwaTQgPSB0aGlzLmFwaSkuc2V0LmFwcGx5KF90aGlzJGFwaTQsIGFyZ3VtZW50cyk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImdldFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICB2YXIgX3RoaXMkYXBpNTtcblxuICAgICAgcmV0dXJuIChfdGhpcyRhcGk1ID0gdGhpcy5hcGkpLmdldC5hcHBseShfdGhpcyRhcGk1LCBhcmd1bWVudHMpO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBQdWJsaWNBcGk7XG59KCk7IC8vIE1haW4gUENXaWRnZXQgY2xhc3MgdGhhdCBhY3RzIGFzIHRoZSBzdGFydGVyIGZvciB0aGUgd2lkZ2V0LiBBbHNvIGV4cG9zZXMsXG4vLyB0aGUgYmFzZSBBUEkgZm9yIGNhbGxpbmcgbWV0aG9kcyBvbiB0aGUgd2lkZ2V0IGluc3RhbmNlIGl0c2VsZi5cblxuXG52YXIgUENXaWRnZXQgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBQQ1dpZGdldCgpIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgdmFyIG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IHt9O1xuXG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFBDV2lkZ2V0KTtcblxuICAgIC8vIFRoaXMgaXMgc2ltcGx5IHRyZWF0ZWQgYXMgYSBwYXNzdGhyb3VnaCBmb3IgdGhlIHdpZGdldCBsb2FkZXJcbiAgICB2YXIgbWFwcGVkQXJncyA9IE9iamVjdC5rZXlzKG9wdGlvbnMpLm1hcChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICByZXR1cm4ga2V5LnRvTG93ZXJDYXNlKCkudHJpbSgpO1xuICAgIH0pLnJlZHVjZShmdW5jdGlvbiAob2JqLCBrZXkpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGM6IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgb2JqKSwge30sIHtcbiAgICAgICAgICB3aWRnZXRJZDogb3B0aW9uc1trZXldXG4gICAgICAgIH0pLFxuICAgICAgICBvOiBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIG9iaiksIHt9LCB7XG4gICAgICAgICAgb3ZlcnJpZGVXaWRnZXRJZDogb3B0aW9uc1trZXldXG4gICAgICAgIH0pLFxuICAgICAgICBwdXJlc2VydmVydXJsOiBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIG9iaiksIHt9LCB7XG4gICAgICAgICAgcHVyZVNlcnZlclVybDogb3B0aW9uc1trZXldXG4gICAgICAgIH0pLFxuICAgICAgICBjaGF0c2VydmVydXJsOiBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIG9iaiksIHt9LCB7XG4gICAgICAgICAgY2hhdFNlcnZlclVybDogb3B0aW9uc1trZXldXG4gICAgICAgIH0pLFxuICAgICAgICBmOiBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIG9iaiksIHt9LCB7XG4gICAgICAgICAgaXNXaWRnZXQ6IG9wdGlvbnNba2V5XVxuICAgICAgICB9KVxuICAgICAgfVtrZXldO1xuICAgIH0sIHt9KTtcblxuICAgIHZhciBpbml0ID0gZnVuY3Rpb24gaW5pdCgpIHtcbiAgICAgIHZhciBpZCA9IG1hcHBlZEFyZ3Mub3ZlcnJpZGVXaWRnZXRJZCB8fCBtYXBwZWRBcmdzLndpZGdldElkOyAvLyBNYWtlIHRoZSBmaXJzdCByZXF1ZXN0IHRvIGdyYWIgdGhlIHdpZGdldCB2ZXJzaW9uIHNldHRpbmdzLiBUaGlzIHdpbGwgc2F5IGlmIHRoZSB3aWRnZXQgaXMgZGlzYWJsZWQgb3JcbiAgICAgIC8vIGRlbGV0ZWQuIEFsc28gY2hlY2tzIHRvIG1ha2Ugc3VyZSB0aGV5IGhhdmVuJ3QgaGl0IHRoZWlyIGNoYXQgcXVvdGEuXG5cbiAgICAgIGNvcnNHZXQoXCJcIi5jb25jYXQocGNDb25maWcud2lkZ2V0QXBpUm9vdFVybCwgXCIvYXBpL3Zpc2l0b3J3aWRnZXQvd2lkZ2V0dmVyc2lvbnMvXCIpLmNvbmNhdChpZCksIGZ1bmN0aW9uICh2ZXJzaW9uUmVzcG9uc2UpIHtcbiAgICAgICAgdmFyIHNldHRpbmdzID0gX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBtYXBwZWRBcmdzKSwgX3RoaXMubWFwV2lkZ2V0VmVyc2lvblNldHRpbmdzKHZlcnNpb25SZXNwb25zZSkpO1xuXG4gICAgICAgIGlmIChzZXR0aW5ncy5RdW90YUV4Y2VlZGVkIHx8IHNldHRpbmdzLlN0b3ApIHJldHVybiBmYWxzZTsgLy8gTWFrZSB0aGUgcmVxdWVzdCBmb3IgdGhlIHJlc3Qgb2YgdGhlIHdpZGdldCBzZXR0aW5ncy4gT25lIGxhc3QgY2hlY2sgb24gdGhlIGRvbWFpbiBzZXR0aW5ncyBiZWZvcmUgbG9hZGluZ1xuICAgICAgICAvLyB0aGUgcmVzdCBvZiB0aGUgd2lkZ2V0LlxuXG4gICAgICAgIHJldHVybiBjb3JzR2V0KFwiXCIuY29uY2F0KHBjQ29uZmlnLmFwaUNkblNlcnZlclVybCwgXCIvYXBpL3Zpc2l0b3J3aWRnZXQvd2lkZ2V0L1wiKS5jb25jYXQoaWQsIFwiL1wiKS5jb25jYXQoc2V0dGluZ3MuV2lkZ2V0VmVyc2lvbiksIGZ1bmN0aW9uIChzZXR0aW5nc1Jlc3BvbnNlKSB7XG4gICAgICAgICAgc2V0dGluZ3MgPSBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIHNldHRpbmdzUmVzcG9uc2UpLCBzZXR0aW5ncyk7XG4gICAgICAgICAgaWYgKCFfdGhpcy5pc0FsbG93ZWREb21haW4oc2V0dGluZ3MuQWxsb3dlZERvbWFpbnMpKSByZXR1cm4gZmFsc2U7IC8vIENoZWNrIHN0eWxlIHRvIHNlZSBpZiB3ZSBuZWVkIHRvIGxvYWQgdGhlIG1vZGVybiB3aWRnZXQgb3IgdGhlIGxlZ2FjeSBvbmUuXG5cbiAgICAgICAgICB2YXIgaXNMZWdhY3kgPSAhaXNNb2Rlcm4oc2V0dGluZ3MpOyAvLyBMb2FkIGpxdWVyeSBmcm9tIGEgQ0ROLiBUaGlzIGlzIHRoZSBvbmx5IGxpYnJhcnkgbG9hZGVkIGZyb20gYSBDRE4gc2luY2UgaXQgc2VlbXMgdG8gaGFuZGxlIHJlcXVpcmUuanNcbiAgICAgICAgICAvLyBlbnZpcm9ubWVudHMgdGhhbiB0aGUgb3RoZXIgbGlicmFyaWVzIHdlIHVzZSwgYW5kIHRoZSBsaWtsaWhvb2Qgb2Ygc29tZW9uZSBoYXZpbmcgdGhpcyB2ZXJzaW9uIG9mIGpRdWVyeVxuICAgICAgICAgIC8vIGFscmVhZHkgY2FjaGVkIGJ5IHRoZXJlIGJyb3dzZXIgaXMgZmFpcmx5IGhpZ2guXG5cbiAgICAgICAgICByZXR1cm4gbG9hZGpRdWVyeShpc0xlZ2FjeSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKGlzTGVnYWN5KSB3aW5kb3cucGMkID0gd2luZG93LmpRdWVyeS5ub0NvbmZsaWN0KHRydWUpOyAvLyBMb2FkIHRoZSBsYXN0IHNjcmlwdCB0aGF0IHRlbGxzIHRoZSBsb2FkZXIgd2hpY2ggdmVyc2lvbiBvZiB0aGUgd2lkZ2V0LXNjcmlwdCB0byBsb2FkLiBUaGlzIGhhcyBhIHZlcnNpb24gbnVtYmVyIGluIGl0XG4gICAgICAgICAgICAvLyBhcyB3ZWxsIGluIGNhc2UgdGhhdCBpcyBuZWVkZWQgZm9yIGFueXRoaW5nIGRvd24gdGhlIGxpbmUuXG5cbiAgICAgICAgICAgIGdldEpTT05QKFwiXCIuY29uY2F0KHBjQ29uZmlnLmRhc2hib2FyZFJvb3RVcmwsIFwiL3ZlcnNpb25cIiksIGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICAgICAgICB2YXIgd2lkZ2V0U2NyaXB0ID0gaXNMZWdhY3kgPyByZXNwb25zZS5hc3NldHNbJ3dpZGdldC1zY3JpcHQuanMnXSB8fCByZXNwb25zZS5hc3NldHNbJ3dpZGdldFNjcmlwdC5qcyddIHx8IHJlc3BvbnNlLmFzc2V0c1snbGVnYWN5LmpzJ10gOiByZXNwb25zZS5hc3NldHNbJ21vZGVybi5qcyddO1xuICAgICAgICAgICAgICB2YXIgdXJsID0gXCJcIi5jb25jYXQocGNDb25maWcuY2RuVXJsKS5jb25jYXQod2lkZ2V0U2NyaXB0KTsgLy8gTGFzdGx5LCBsb2FkIHRoZSB3aWRnZXQgc2NyaXB0IHRoZSB2ZXJzaW9uIGZpbGUgc2FpZCB0byBsb2FkLlxuXG4gICAgICAgICAgICAgIGxvYWRTY3JpcHQodXJsLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgaWYgKHdpbmRvdy5fcGN3aSkgZGVsZXRlIHdpbmRvdy5fcGN3aTtcbiAgICAgICAgICAgICAgICB2YXIgaW5pdGlhbGl6ZXIgPSB3aW5kb3cuX3BjV2lkZ2V0SW5pdGlhbGl6ZXI7XG5cbiAgICAgICAgICAgICAgICBpZiAoIWluaXRpYWxpemVyKSB7XG4gICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnUHVyZSBDaGF0IFdpZGdldCBmYWlsZWQgdG8gbG9hZCcpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLWNvbnNvbGVcblxuICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGluaXRpYWxpemVyLnN0YXJ0KHNldHRpbmdzLCBmdW5jdGlvbiAod2lkZ2V0KSB7XG4gICAgICAgICAgICAgICAgICBfdGhpcy53aWRnZXQgPSB3aWRnZXQ7XG5cbiAgICAgICAgICAgICAgICAgIGlmICh3aW5kb3cucHVyZWNoYXRBcGkgJiYgaXNMZWdhY3kpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIF93aW5kb3ckcHVyZWNoYXRBcGkgPSB3aW5kb3cucHVyZWNoYXRBcGksXG4gICAgICAgICAgICAgICAgICAgICAgICBsID0gX3dpbmRvdyRwdXJlY2hhdEFwaS5sLFxuICAgICAgICAgICAgICAgICAgICAgICAgdCA9IF93aW5kb3ckcHVyZWNoYXRBcGkudDtcbiAgICAgICAgICAgICAgICAgICAgd2luZG93LnB1cmVjaGF0QXBpID0gbmV3IFB1YmxpY0FwaSh3aWRnZXQpO1xuICAgICAgICAgICAgICAgICAgICBsLmZvckVhY2goZnVuY3Rpb24gKG5leHQpIHtcbiAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gd2luZG93LnB1cmVjaGF0QXBpLm9uLmFwcGx5KHdpbmRvdy5wdXJlY2hhdEFwaSwgbmV4dCk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB0LmZvckVhY2goZnVuY3Rpb24gKG5leHQpIHtcbiAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gd2luZG93LnB1cmVjaGF0QXBpLmFjdGlvbi5hcHBseSh3aW5kb3cucHVyZWNoYXRBcGksIG5leHQpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgIH0gLy8gUHV0IGJhY2sgTW9vdG9vbHMgZnVuY3Rpb24gYmluZCBiYWNrIHNvIHRoYXQgb3RoZXIgc2NyaXB0cyBnbyBiYWNrIHRvIHdvcmtpbmdcblxuXG4gICAgICAgICAgICAgICAgICBpZiAod2luZG93Lk1vb1Rvb2xzICYmIG1vb3Rvb2xzQmluZCAhPT0gbnVsbCkgRnVuY3Rpb24ucHJvdG90eXBlLmJpbmQgPSBtb290b29sc0JpbmQ7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIH0sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gY29uc29sZS5sb2coJ0ZhaWxlZCB0byBsb2FkIHdpZGdldCBzY3JpcHQnKTtcbiAgICAgICAgICAgICAgfSk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tY29uc29sZVxuICAgICAgICAgICAgfSwgJ19XaWRnZXRKUENCX1ZlcnNpb24nKTtcbiAgICAgICAgICB9LCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gY29uc29sZS5sb2coJ0xpYnJhcmllcyBmYWlsZWQgdG8gbG9hZCcpO1xuICAgICAgICAgIH0pOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLWNvbnNvbGVcbiAgICAgICAgfSwgJ19XaWRnZXRKUENCX1dpZGdldFNldHRpbmdzJyk7XG4gICAgICB9LCAnX1dpZGdldEpQQ0JfV2lkZ2V0VmVyc2lvbnMnKTtcbiAgICB9OyAvLyBXYWl0IHVudGlsIGV2ZXJ5dGhpbmcgb24gdGhlIHBhZ2UgaGFzIGxvYWRlZCBiZWZvcmUgbG9hZGluZyB1cCBQdXJlQ2hhdFxuXG5cbiAgICBpZiAoZG9jdW1lbnQucmVhZHlTdGF0ZSA9PT0gJ2NvbXBsZXRlJykge1xuICAgICAgc2V0VGltZW91dChpbml0LCAwKTtcbiAgICB9IGVsc2UgaWYgKHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKSB7XG4gICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsIGluaXQsIGZhbHNlKTtcbiAgICB9IGVsc2UgaWYgKHdpbmRvdy5hdHRhY2hFdmVudCkge1xuICAgICAgd2luZG93LmF0dGFjaEV2ZW50KCdvbmxvYWQnLCBpbml0KTtcbiAgICB9IGVsc2Uge1xuICAgICAgd2luZG93Lm9ubG9hZCA9IGluaXQ7XG4gICAgfVxuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKFBDV2lkZ2V0LCBbe1xuICAgIGtleTogXCJtYXBXaWRnZXRWZXJzaW9uU2V0dGluZ3NcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gbWFwV2lkZ2V0VmVyc2lvblNldHRpbmdzKCkge1xuICAgICAgdmFyIHJlc3BvbnNlID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB7fTtcbiAgICAgIHJldHVybiBPYmplY3Qua2V5cyhyZXNwb25zZSkubWFwKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgcmV0dXJuIGtleS50b0xvd2VyQ2FzZSgpLnRyaW0oKTtcbiAgICAgIH0pLnJlZHVjZShmdW5jdGlvbiAob2JqLCBrZXkpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICB2OiBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIG9iaiksIHt9LCB7XG4gICAgICAgICAgICBWYWxpZDogcmVzcG9uc2Vba2V5XSA9PT0gdHJ1ZSB8fCByZXNwb25zZVtrZXldID09PSAxXG4gICAgICAgICAgfSksXG4gICAgICAgICAgd3Y6IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgb2JqKSwge30sIHtcbiAgICAgICAgICAgIFdpZGdldFZlcnNpb246IHJlc3BvbnNlW2tleV1cbiAgICAgICAgICB9KSxcbiAgICAgICAgICBjc3U6IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgb2JqKSwge30sIHtcbiAgICAgICAgICAgIENoYXRTZXJ2ZXJVcmw6IHJlc3BvbnNlW2tleV1cbiAgICAgICAgICB9KSxcbiAgICAgICAgICBjc3Y6IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgb2JqKSwge30sIHtcbiAgICAgICAgICAgIENoYXRTZXJ2ZXJWZXJzaW9uOiByZXNwb25zZVtrZXldXG4gICAgICAgICAgfSksXG4gICAgICAgICAgc3J1OiBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIG9iaiksIHt9LCB7XG4gICAgICAgICAgICBTaXRlUm9vdFVybDogcmVzcG9uc2Vba2V5XVxuICAgICAgICAgIH0pLFxuICAgICAgICAgIGRhcDogX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBvYmopLCB7fSwge1xuICAgICAgICAgICAgRGlzYWJsZUF2YWlsYWJpbGl0eVBpbmdzOiByZXNwb25zZVtrZXldID09PSB0cnVlIHx8IHJlc3BvbnNlW2tleV0gPT09IDFcbiAgICAgICAgICB9KSxcbiAgICAgICAgICBpcDogX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBvYmopLCB7fSwge1xuICAgICAgICAgICAgVmlzaXRvcklQQWRkcmVzczogcmVzcG9uc2Vba2V5XVxuICAgICAgICAgIH0pLFxuICAgICAgICAgIHJmbTogX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBvYmopLCB7fSwge1xuICAgICAgICAgICAgUmVxdWVzdEZyb21Nb2JpbGVEZXZpY2U6IHJlc3BvbnNlW2tleV0gPT09IHRydWUgfHwgcmVzcG9uc2Vba2V5XSA9PT0gMVxuICAgICAgICAgIH0pLFxuICAgICAgICAgIGI6IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgb2JqKSwge30sIHtcbiAgICAgICAgICAgIElQSXNCYW5uZWQ6IHJlc3BvbnNlW2tleV0gPT09IHRydWUgfHwgcmVzcG9uc2Vba2V5XSA9PT0gMVxuICAgICAgICAgIH0pLFxuICAgICAgICAgIGNydTogX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBvYmopLCB7fSwge1xuICAgICAgICAgICAgQ2RuUm9vdFVybDogcmVzcG9uc2Vba2V5XVxuICAgICAgICAgIH0pLFxuICAgICAgICAgIGFjcnU6IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgb2JqKSwge30sIHtcbiAgICAgICAgICAgIEFwaUNkblJvb3RVcmw6IHJlc3BvbnNlW2tleV1cbiAgICAgICAgICB9KSxcbiAgICAgICAgICBpZDogX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBvYmopLCB7fSwge1xuICAgICAgICAgICAgSWQ6IHJlc3BvbnNlW2tleV1cbiAgICAgICAgICB9KSxcbiAgICAgICAgICBzOiBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIG9iaiksIHt9LCB7XG4gICAgICAgICAgICBTdG9wOiByZXNwb25zZVtrZXldID09PSB0cnVlIHx8IHJlc3BvbnNlW2tleV0gPT09IDFcbiAgICAgICAgICB9KSxcbiAgICAgICAgICBxZTogX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBvYmopLCB7fSwge1xuICAgICAgICAgICAgUXVvdGFFeGNlZWRlZDogcmVzcG9uc2Vba2V5XSA9PT0gdHJ1ZSB8fCByZXNwb25zZVtrZXldID09PSAxXG4gICAgICAgICAgfSlcbiAgICAgICAgfVtrZXldIHx8IG9iajtcbiAgICAgIH0sIHJlc3BvbnNlKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiaXNBbGxvd2VkRG9tYWluXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGlzQWxsb3dlZERvbWFpbigpIHtcbiAgICAgIHZhciBhbGxvd2VkRG9tYWlucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogW107XG4gICAgICAvLyBObyBkb21haW5zIG1lYW4gd2lkZ2V0IGlzIHNldCB0byBcIkFsbCBEb21haW5zXCJcbiAgICAgIGlmIChhbGxvd2VkRG9tYWlucy5sZW5ndGggPT09IDApIHJldHVybiB0cnVlO1xuICAgICAgYWxsb3dlZERvbWFpbnMucHVzaCgncHVyZWNoYXQuY29tJyk7XG4gICAgICByZXR1cm4gYWxsb3dlZERvbWFpbnMuc29tZShmdW5jdGlvbiAoZG9tYWluKSB7XG4gICAgICAgIHJldHVybiAvXlxcKiQvLnRlc3QoZG9tYWluKSB8fCBkb2N1bWVudC5kb21haW4uc2VhcmNoKGRvbWFpbikgIT09IC0xO1xuICAgICAgfSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInB1YmxpY0FwaVwiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIHRoaXMud2lkZ2V0ID8gdGhpcy53aWRnZXQuZ2V0UHVibGljQXBpKCkgOiBudWxsO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJzZXRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gc2V0KCkge1xuICAgICAgdmFyIF90aGlzJHB1YmxpY0FwaTtcblxuICAgICAgaWYgKHRoaXMucHVibGljQXBpKSAoX3RoaXMkcHVibGljQXBpID0gdGhpcy5wdWJsaWNBcGkpLnNldC5hcHBseShfdGhpcyRwdWJsaWNBcGksIGFyZ3VtZW50cyk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImdldFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICB2YXIgX3RoaXMkcHVibGljQXBpMjtcblxuICAgICAgaWYgKHRoaXMucHVibGljQXBpKSAoX3RoaXMkcHVibGljQXBpMiA9IHRoaXMucHVibGljQXBpKS5nZXQuYXBwbHkoX3RoaXMkcHVibGljQXBpMiwgYXJndW1lbnRzKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwib25cIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gb24oKSB7XG4gICAgICB2YXIgX3RoaXMkcHVibGljQXBpMztcblxuICAgICAgaWYgKHRoaXMucHVibGljQXBpKSAoX3RoaXMkcHVibGljQXBpMyA9IHRoaXMucHVibGljQXBpKS5vbi5hcHBseShfdGhpcyRwdWJsaWNBcGkzLCBhcmd1bWVudHMpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJ0cmlnZ2VyXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHRyaWdnZXIoKSB7XG4gICAgICB2YXIgX3RoaXMkcHVibGljQXBpNDtcblxuICAgICAgaWYgKHRoaXMucHVibGljQXBpKSAoX3RoaXMkcHVibGljQXBpNCA9IHRoaXMucHVibGljQXBpKS50cmlnZ2VyLmFwcGx5KF90aGlzJHB1YmxpY0FwaTQsIGFyZ3VtZW50cyk7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIFBDV2lkZ2V0O1xufSgpO1xuXG53aW5kb3cuUENXaWRnZXQgPSBQQ1dpZGdldDsiXSwibWFwcGluZ3MiOiI7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUM1QkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNoRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUMzQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2RBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///3453\n")}},__webpack_module_cache__={};function __webpack_require__(c){var n=__webpack_module_cache__[c];if(void 0!==n)return n.exports;var t=__webpack_module_cache__[c]={exports:{}};return __webpack_modules__[c](t,t.exports,__webpack_require__),t.exports}__webpack_require__.n=function(c){var n=c&&c.__esModule?function(){return c.default}:function(){return c};return __webpack_require__.d(n,{a:n}),n},__webpack_require__.d=function(c,n){for(var t in n)__webpack_require__.o(n,t)&&!__webpack_require__.o(c,t)&&Object.defineProperty(c,t,{enumerable:!0,get:n[t]})},__webpack_require__.o=function(c,n){return Object.prototype.hasOwnProperty.call(c,n)};var __webpack_exports__=__webpack_require__(3453)})();